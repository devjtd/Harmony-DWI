# --- Configuración de Base de Datos PostgreSQL ---
# Configurar estas variables en Render Environment:
# DB_URL = Internal Database URL de tu PostgreSQL (formato: jdbc:postgresql://...)
# DB_USER = Usuario de PostgreSQL
# DB_PASS = Contraseña de PostgreSQL

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASS}

# Hibernate configuración para PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=false

# Estrategia de nombres para PostgreSQL (convierte CamelCase a snake_case)
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy

# Puerto del servidor - Render usa la variable PORT
server.port=${PORT:8080}


# --- Configuración de Seguridad y Correo  ---
# Configuración de Correo
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=harmonyescuela06@gmail.com
spring.mail.password=yvnd dozt rvyj ziiq
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Configuración JWT
application.security.jwt.secret-key=586E3272357538782F413F4428472B4B6250655368566B597033733676397924
application.security.jwt.expiration=86400000



# --- Configuración de Logging para SILENCIAR todo excepto mensajes críticos ---
# Nivel de log por defecto para toda la aplicación (Spring, Tomcat, etc.)
logging.level.root=ERROR 

# Permite que tus logs propios (com.harmony.sistema) sigan mostrando WARN y ERROR
logging.level.com.harmony.sistema=WARN

# Silencia logs de Hibernate y Spring Data, solo mostrando Errores
logging.level.org.hibernate=ERROR
logging.level.org.springframework.data=ERROR

# Nivel de log para consultas SQL de Hibernate -> Silenciado a ERROR (antes WARN)
logging.level.org.hibernate.SQL=ERROR
logging.level.org.hibernate.type.descriptor.sql=ERROR